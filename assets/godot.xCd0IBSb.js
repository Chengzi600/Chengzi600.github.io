import{_ as g}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CQcBOnL4.js";import"./chunks/@vueuse/motion.93lXQYSQ.js";import{e as m,a as c,u as b}from"./chunks/vue-router.BEKF9BUg.js";import{aa as f,al as i,ad as n,ae as s,ah as y,ai as l,O as F,ab as E,a1 as v}from"./framework.Ml9S_Aih.js";import"./app.BAmLAJBi.js";import"./chunks/dayjs.Byk5cVHE.js";import"./chunks/vue-i18n.Pgi5LQXI.js";import"./chunks/pinia.2Hn_MpgA.js";/* empty css                    */import"./chunks/nprogress.Cino7761.js";import"./YunComment.vue_vue_type_style_index_0_lang.B3EOv0n8.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.ewDytU7A.js";import"./post.BUBxhq6J.js";const B=m("/posts/godot",async e=>JSON.parse('{"title":"恶魔轮盘赌拆包 - Godot 引擎游戏的逆向","description":"","frontmatter":{"title":"恶魔轮盘赌拆包 - Godot 引擎游戏的逆向","author":"Chengzi600","tags":["教程","游戏"],"categories":["编程","逆向"],"abbrlink":38835,"date":"2024-02-24 19:30:00","updated":"2024-02-24 19:30:00"},"headers":[],"relativePath":"pages/posts/godot.md","lastUpdated":1752925464000}'),{lazy:(e,o)=>e.name===o.name}),T={__name:"godot",setup(e,{expose:o}){var p;const{data:d}=B(),h=b(),k=c(),r=Object.assign(k.meta.frontmatter||{},((p=d.value)==null?void 0:p.frontmatter)||{});return h.currentRoute.value.data=d.value,v("valaxy:frontmatter",r),globalThis.$frontmatter=r,o({frontmatter:{title:"恶魔轮盘赌拆包 - Godot 引擎游戏的逆向",author:"Chengzi600",tags:["教程","游戏"],categories:["编程","逆向"],abbrlink:38835,date:"2024-02-24 19:30:00",updated:"2024-02-24 19:30:00"}}),(t,a)=>{const u=g;return E(),f(u,{frontmatter:F(r)},{"main-content-md":i(()=>[a[0]||(a[0]=s("h2",{id:"前言",tabindex:"-1"},[l("前言 "),s("a",{class:"header-anchor",href:"#前言","aria-label":'Permalink to "前言"'},"​")],-1)),a[1]||(a[1]=s("p",null,[l("近期网络上也是出现了一款特别火的游戏——"),s("strong",null,"Buckshot Roulette"),l("，也叫恶魔轮盘赌，游戏玩法不多赘述，这里提供 Godot 引擎游戏逆向的一般方法，至于游戏中AI大哥的逻辑，B站上已经有了分析"),s("a",{href:"https://www.bilibili.com/video/BV13z421R73V",target:"_blank",rel:"noreferrer"},"# 逆向代码解析恶魔轮盘赌！你想知道的全在这里")],-1)),a[2]||(a[2]=s("h2",{id:"准备工作",tabindex:"-1"},[l("准备工作 "),s("a",{class:"header-anchor",href:"#准备工作","aria-label":'Permalink to "准备工作"'},"​")],-1)),a[3]||(a[3]=s("p",null,[l("游戏是 "),s("strong",null,"Godot"),l(" 引擎开发的，Godot 是一个开源引擎，这意味着我们可以很容易地将其反编译，得到项目文件，以此来获得你想要的音频/图片资源，甚至对代码进行二次开发")],-1)),a[4]||(a[4]=s("p",null,[l("这里我们用到 Github 上一个开源项目 ["),s("a",{href:"https://github.com/bruvzg/gdsdecomp",target:"_blank",rel:"noreferrer"},"GitHub - bruvzg/gdsdecomp: Godot reverse engineering tools"),l("，该程序支持反编译 Godot 4.x、3.x 和 2.x 项目")],-1)),y(" more "),a[5]||(a[5]=s("ol",null,[s("li",null,[s("p",null,"在 Github 下载最新的 Release，解压")]),s("li",null,[s("p",null,[s("code",null,"Buckshot Roulette.exe"),l("游戏文件，1.0或1.1版本均可")])])],-1)),a[6]||(a[6]=s("h2",{id:"逆向过程",tabindex:"-1"},[l("逆向过程 "),s("a",{class:"header-anchor",href:"#逆向过程","aria-label":'Permalink to "逆向过程"'},"​")],-1)),a[7]||(a[7]=s("h3",{id:"获得项目文件",tabindex:"-1"},[l("获得项目文件 "),s("a",{class:"header-anchor",href:"#获得项目文件","aria-label":'Permalink to "获得项目文件"'},"​")],-1)),a[8]||(a[8]=s("ol",null,[s("li",null,[s("p",null,[l("启动"),s("code",null,"gdre_tools.exe"),l("，选择"),s("code",null,"RE Tools"),l("-"),s("code",null,"Recover Project"),l("，在文件选择框中选择下载好的游戏主程序文件"),s("code",null,"Buckshot Roulette.exe"),l("，选择输出文件夹并选择"),s("code",null,"Full Project Recovery"),l("获得完整项目文件，等待几分钟时间，程序会把整个项目文件提到你选择的文件夹中，期间程序自带的控制台可能报错，不用理会即可")])]),s("li",null,[s("p",null,[l("完成之后，点开项目文件夹，我们为了在 Godot 中打开项目，需要先看项目版本，用任意编辑器打开"),s("code",null,"project.godot"),l("文件")]),s("div",{class:"language-systemd"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"systemd"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"[application]")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'config/name="Buckshot Roulette"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'run/main_scene="res://scenes/menu.tscn"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'config/features=PackedStringArray("4.2", "Forward Plus")')]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"boot_splash/bg_color=Color(0, 0, 0, 1)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"boot_splash/show_image=false")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},'config/icon="res://misc/icon1.png"')])])]),s("button",{class:"collapse"})]),s("p",null,[l("从中不难发现，项目所用的 Godot 版本为"),s("code",null,"4.2"),l("，我们到 Godot 官网下载对应的版本，添加项目，选中"),s("code",null,"project.godot"),l("文件即可加载")])])],-1)),a[9]||(a[9]=s("h3",{id:"提取资源",tabindex:"-1"},[l("提取资源 "),s("a",{class:"header-anchor",href:"#提取资源","aria-label":'Permalink to "提取资源"'},"​")],-1)),a[10]||(a[10]=s("p",null,"由于大部分人不会 Godot 开发，只是想要获得游戏中的资源，这里简单说明一下资源的提取",-1)),a[11]||(a[11]=s("p",null,"先来观察下目录结构",-1)),a[12]||(a[12]=s("div",{class:"language-bash"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"┌─.assets")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─.godot")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─.idea")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─audio")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─fonts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─GodotRetro")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─instances")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─main"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," player")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─materials")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─misc")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─models")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─scenes")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"├─scripts")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"└─textures")])])]),s("button",{class:"collapse"})],-1)),a[13]||(a[13]=s("p",null,"目录结构取决于开发者的习惯，但是大多情况下，一些文件夹的命名和文件的存放原则是一致的，这里说明几个重要文件夹",-1)),a[14]||(a[14]=s("ul",null,[s("li",null,[s("p",null,[s("code",null,"audio"),l("存储游戏的音频文件，游戏的音乐、音效都在这里")])]),s("li",null,[s("p",null,[s("code",null,"fonts"),l("存储游戏的字体，该游戏中字体全部是特制的，如有需求可以直接安装"),s("code",null,".ttf"),l("文件（这游戏几套字体都只支持英文字母）")])]),s("li",null,[s("p",null,[s("code",null,"models"),l(),s("code",null,"textures"),l("存储游戏的贴图，能从里面找到很多道具的贴图")])]),s("li",null,[s("p",null,[s("code",null,"scripts"),l("存储游戏中全部代码文件，Godot 开发使用 "),s("em",null,"GDScript"),l(" 脚本语言，由于 Godot 引擎的特殊性，解包出来的代码中变量名和方法名没有任何变化，甚至注释都完整保留，具有极强的可读性")]),s("p",null,"我们可以从代码中看出作者对引擎功能的不满以及恶趣味，遗憾的是计算奖金的这个彩蛋没有保留下来"),s("div",{class:"language-gdscript"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"gdscript"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# HealthCounter.gd")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Why can I not add functions with arguments into godot animator :sob:")])])]),s("button",{class:"collapse"})]),s("div",{class:"language-gdscript"},[s("button",{title:"Copy code",class:"copy"}),s("span",{class:"lang"},"gdscript"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# EndingManager.gd")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (endless_overwriting): total_cash "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," endless_score")]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'# if (playername == "sex"): total_cash = 69')]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'# if (playername == "leet"): total_cash = 1337')]),l(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'# if (playername == "snoop" or playername == "weed" or playername == "kush"): total_cash = 420')])])]),s("button",{class:"collapse"})])])],-1)),a[15]||(a[15]=s("p",null,[l("特殊说明，"),s("code",null,".import"),l("文件是 Godot 引擎的导入记录，与资源内容无关，可以直接无视")],-1)),a[16]||(a[16]=s("p",null,"根据目录的结构，我们可以针对性浏览文件，从而轻易地找到自己想要的东西",-1)),a[17]||(a[17]=s("h2",{id:"尾声",tabindex:"-1"},[l("尾声 "),s("a",{class:"header-anchor",href:"#尾声","aria-label":'Permalink to "尾声"'},"​")],-1)),a[18]||(a[18]=s("p",null,"由于我并不熟悉 Godot 的开发，文章中的介绍可能有所欠缺，有错误还麻烦在底下评论指正，而且我的设备太烂，Godot 引擎都跑不起来…",-1)),a[19]||(a[19]=s("p",null,[l("由此可见，Godot 的逆向非常容易，也非常容易被人拿来干坏事，"),s("strong",null,"开源是把双刃剑"),l("，我们都应该合理地运用它")],-1))]),"main-header":i(()=>[n(t.$slots,"main-header")]),"main-header-after":i(()=>[n(t.$slots,"main-header-after")]),"main-nav":i(()=>[n(t.$slots,"main-nav")]),"main-content-before":i(()=>[n(t.$slots,"main-content-before")]),"main-content":i(()=>[n(t.$slots,"main-content")]),"main-content-after":i(()=>[n(t.$slots,"main-content-after")]),"main-nav-before":i(()=>[n(t.$slots,"main-nav-before")]),"main-nav-after":i(()=>[n(t.$slots,"main-nav-after")]),comment:i(()=>[n(t.$slots,"comment")]),footer:i(()=>[n(t.$slots,"footer")]),aside:i(()=>[n(t.$slots,"aside")]),"aside-custom":i(()=>[n(t.$slots,"aside-custom")]),default:i(()=>[n(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{T as default,B as usePageData};
