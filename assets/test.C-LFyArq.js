import{_ as T}from"./ValaxyMain.vue_vue_type_style_index_0_lang.B7yPpjbO.js";import"./chunks/@vueuse/motion.93lXQYSQ.js";import{J as $,u as V}from"./app.BRwkRBDg.js";import{u as x}from"./decrypt.B_bmUllA.js";import"./chunks/dayjs.Byk5cVHE.js";import{R as g,H as y,M as D,ac as f,ae as r,an as A,ah as w,au as B,aA as O,aj as N,ai as P,_ as h,O as b,T as S,ab as p,aa as M,al as e,ad as n,a9 as R,a1 as k}from"./framework.Ml9S_Aih.js";import{e as z,a as E,u as H}from"./chunks/vue-router.Zlx2D3ED.js";import"./YunComment.vue_vue_type_style_index_0_lang.tuQI_PA8.js";import"./index.C5okkQwF.js";import"./chunks/vue-i18n.Pgi5LQXI.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.ewDytU7A.js";import"./post.CHbUFLL5.js";import"./chunks/pinia.2Hn_MpgA.js";/* empty css                    */import"./chunks/nprogress.Cino7761.js";const I={key:0,"w-full":"","pt-14":"","pb-10":""},K={class:"decrypt-password-container w-full sm:w-1/2","flex-center":"","m-auto":"",relative:""},U={key:0,class:"-top-6",absolute:"","text-xs":"",op:"50"},W=["innerHTML"],J={key:1,class:"-bottom-6",absolute:"","text-xs":"",op:"50"},L={key:1},j=g({__name:"ValaxyDecrypt",props:{encryptedContent:{},hint:{}},setup(d){const i=d,m=y(""),s=y(""),l=y(!1),{decrypt:c}=x();async function u(){const o=i.encryptedContent;if(o)try{const a=await c(m.value,o);s.value=a||"",setTimeout(()=>{$()},16)}catch(a){l.value=!0,console.error(a)}}function t(){s.value="",m.value="",setTimeout(()=>{$()},16)}const C=g({name:"ValaxyDeprecatedContent",props:{html:String},render(){const o=`<div>${this.html}</div>`;return S({setup:()=>({frontmatter:V()}),template:o})}}),v=D(()=>location.protocol!=="https:");return(o,a)=>(p(),f("div",null,[s.value?(p(),f("div",L,[h(b(C),{html:s.value},null,8,["html"]),r("div",{"w-full":"","text-center":"","mt-8":""},[r("button",{"m-auto":"",class:"btn","font-bold":"",onClick:t}," Encrypt Again ")])])):(p(),f("div",I,[r("div",K,[A(r("input",{"onUpdate:modelValue":a[0]||(a[0]=_=>m.value=_),"w-full":"",border:"~ solid dark:dark-100","pl-5":"","pr-11":"","py-3":"","rounded-full":"","hover:shadow":"",transition:"",type:"password",placeholder:"Enter password",class:N(l.value&&"border-red"),onInput:a[1]||(a[1]=_=>l.value=!1),onKeyup:O(u,["enter"])},null,34),[[B,m.value]]),r("div",{class:"text-gray/70 hover:text-gray transition","cursor-pointer":"",absolute:"","text-2xl":"","i-ri-arrow-right-circle-line":"","right-3":"",onClick:u}),o.hint?(p(),f("div",U,[r("div",{innerHTML:o.hint},null,8,W)])):w("v-if",!0),v.value?(p(),f("div",J,a[2]||(a[2]=[r("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",target:"_blank"},[r("span",null,"Web Crypto API")],-1),P(" Only works in HTTPS ")]))):w("v-if",!0)])]))]))}}),F=z("/posts/test",async d=>JSON.parse('{"title":"这是一篇加密的测试文章","description":"","frontmatter":{"title":"这是一篇加密的测试文章","author":"Chengzi600","tags":["加密"],"categories":["杂项"],"abbrlink":28599,"date":"2024-02-18 18:00:00","updated":"2024-02-18 18:00:00","encrypt":true},"headers":[],"relativePath":"pages/posts/test.md","lastUpdated":1771294206000}'),{lazy:(d,i)=>d.name===i.name}),mt={__name:"test",setup(d){var u;const{data:i}=F(),m=H(),s=E(),l=Object.assign(s.meta.frontmatter||{},((u=i.value)==null?void 0:u.frontmatter)||{});m.currentRoute.value.data=i.value,k("valaxy:frontmatter",l);const c=JSON.parse(`"Û8fm\\u0019\\u0001nëî¬Ay1ôÙY%ôÏ\\f?ÿo(ËÆRB³ÒïÝÑKoQ'a¾Ðl_hhiãµKýBÆÆÝ\\u00063T"`);return s.meta.$encryptedContent=c,k("valaxy:encryptedContent",c),globalThis.$frontmatter=l,(t,C)=>{const v=j,o=R("ClientOnly"),a=T;return p(),M(a,{frontmatter:b(l)},{"main-content-md":e(()=>[h(o,null,{default:e(()=>[h(v,{"encrypted-content":b(c),hint:"undefined"},null,8,["encrypted-content"])]),_:1})]),"main-header":e(()=>[n(t.$slots,"main-header")]),"main-header-after":e(()=>[n(t.$slots,"main-header-after")]),"main-nav":e(()=>[n(t.$slots,"main-nav")]),"main-content-before":e(()=>[n(t.$slots,"main-content-before")]),"main-content":e(()=>[n(t.$slots,"main-content")]),"main-content-after":e(()=>[n(t.$slots,"main-content-after")]),"main-nav-before":e(()=>[n(t.$slots,"main-nav-before")]),"main-nav-after":e(()=>[n(t.$slots,"main-nav-after")]),comment:e(()=>[n(t.$slots,"comment")]),footer:e(()=>[n(t.$slots,"footer")]),aside:e(()=>[n(t.$slots,"aside")]),"aside-custom":e(()=>[n(t.$slots,"aside-custom")]),default:e(()=>[n(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{mt as default,F as usePageData};
